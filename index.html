<!DOCTYPE html>
<html>
    <head>
        <title>Car Drive</title>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script> 
        <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
  
        <!--<script src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>-->
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
        
        <script src="./js/houses.js"></script>
        <script src="./js/playerMovement.js"></script>
        <script src="./js/speed-display.js"></script>
        <script src="./js/timer.js"></script>
        <script src="./js/coin-generation.js"></script>
        <script src="./js/player-collide.js"></script>
        <script src="./js/intro.js"></script>

    </head>
    <body>
        <a-scene id="scene" physics>

            <a-assets>
                <a-asset-item id="steering" src="./assets/models/steering_wheel/scene.gltf"></a-asset-item>
                <a-asset-item id="road" src="./assets/models/Road.glb"></a-asset-item>
                <a-asset-item id="house-model" src="./assets/models/low_poly_sweet_home/scene.gltf"></a-asset-item>
                <a-asset-item id="coin" src="./assets/models/gold_coin/scene.gltf"></a-asset-item>
                <audio id="horn" src="./assets/sounds/horn_sound.wav"></audio>
            </a-assets>

            <a-sky color="#71bce1"></a-sky>

            <!--Road-->
            <a-entity class="road-model" position="2 0 -10"  gltf-model="#road" scale="0.3 0.3 0.6"></a-entity>

            <!--Houses-->
            <a-entity id="houses" houses>
            </a-entity>

            <a-entity light="type:ambient; intensity:0.8"></a-entity>

            <a-circle color="#9ecb91" radius="50" position="0 0 0" rotation="-90 0 0"></a-circle>
            
            <!--Sounds-->
            <a-entity id="horn-sound" sound="src: #horn; volume: 0.8"></a-entity>

            <a-entity coins></a-entity>
            <!--Controls-->
            <a-entity player-movement></a-entity><!--player-collide-->

            <!--Fade Screen-->
            <a-sphere id="fade" color="black" position="0 1 25" radius="8.5" opacity="0.5"></a-sphere>

            <a-camera id="player" look-controls-enabled="false" wasd-controls-enabled="false" position="0 1 34" velocity="0 0 0" speed-display timer intro>
                
                <a-entity id="player-keys">
                    <a-entity  id="steering" dynamic-body="mass:0" gltf-model="#steering" scale="0.1 0.1 0.1" position="0 -0.1 -0.1"></a-entity>
                    <a-image id="brk" src="./assets/images/brake-pedal.jpeg" position="-0.1 -0.05 -0.1" scale="0.03 0.03 0.03"></a-image>
                    <a-image id="acc" src="./assets/images/accelarator.jpg" position="0.1 -0.05 -0.1" scale="0.04 0.06 0.04"></a-image>
                    <a-image id="rvr" src="./assets/images/reverse.jpg" position="0 0.07 -0.1" scale="0.06 0.02 0.06" visible="false"></a-image>
                    <a-plane position="0 -0.8 -0.1" width="100%" height="0.1"></a-plane>
                    <a-entity id="speed-warning" visible="false" position="0 0.8 -1" text="width: 1; font:mozillavr; align: center; color: black; value:MAXIMUM SPEED REACHED"></a-entity>
                    <a-entity id="car-speed" position="0 -0.3 -1" text="width: 1; font:mozillavr; align: center; color: black; value: O km/hr"></a-entity>
                    <a-entity id="timer" position="-1.4 0.7 -1" text="width: 2; font:exo2bold; align: center; color: white; value: 00 : 00"></a-entity>
                    <a-entity id="points" position="1.4 0.7 -1" text="width: 2; font:exo2bold; align: center; color: white; value: Points: 0"></a-entity>
                </a-entity>

                <a-entity id="intro" position="0 0 -0.1">
                    <a-entity position="0 0.07 0" text="width: 1; font:exo2bold; align: center; color: white; value: :RULES:"></a-entity>
                    <a-entity position="0 0.04 0" text="width: 0.2; font:exo2bold; align: center; color: white; value: [Press ENTER to begin]"></a-entity>
                    <a-entity position="0 0.03 0" text="width: 0.2; font:mozillavr; align: center; color: white; value: Collect the Coins"></a-entity>
                    <a-entity position="0 0 0" text="width: 0.2; font:mozillavr; align: center; color: white; value: Arrow Keys to move"></a-entity>
                    <a-entity position="0 -0.03 0" text="width: 0.2; font:mozillavr; align: center; color: white; value: Backspace to break"></a-entity>
                    <a-entity position="0 -0.06 0" text="width: 0.2; font:mozillavr; align: center; color: white; value: 'V' to use horn"></a-entity>
                </a-entity>

                <a-entity visible="false" id="end" position="0 0.3 -1" text="width: 10; font:mozillavr; align: center; color: black; value: YOU WIN"></a-entity>


            </a-camera>

        </a-scene>
    </body>
</html>